{
    "swagger": "2.0",
    "info": {
        "title": "Bungalow Insurance API",
        "description": "Generate quotes and purchase renters insurance via the Bungalow API,\npowered by Homesite.\n",
        "version": "1.0.0"
    },
    "host": "staging.bungalowinsurance.com",
    "schemes": [
        "https"
    ],
    "basePath": "/api/v1",
    "securityDefinitions": {
        "Token": {
            "description": "Simple HTTP Token authentication (i.e. an 'Authorization' header field with\n'Token token=test1234' as the value). Your token will be provided by Bungalow.\n",
            "type": "apiKey",
            "name": "Authorization",
            "in": "header"
        }
    },
    "produces": [
        "application/json"
    ],
    "paths": {
        "/quote_requests": {
            "post": {
                "security": [
                    {
                        "Token": []
                    }
                ],
                "summary": "Generate a quote for renters insurance",
                "description": "This is the entry point for the renters insurance purchase workflow. A\nsuccessful quote request will trigger a background process that performs\na number of actions (identity confirmation, geographic risk analysis, etc.)\nand build a renters insurance quote.\n\n**IMPORTANT**: A successful response from this endpoint will not include the\nquote itself, it initiates a long-running (20-30 second) process that\nwill generate the quote. Completion of this process results in a webhook\n(documented elsewhere).\n",
                "parameters": [
                    {
                        "name": "quote_request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/QuoteRequestRoot"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "A simple object with the quote request id for future reference.",
                        "schema": {
                            "$ref": "#/definitions/QuoteRequestResponse"
                        }
                    },
                    "422": {
                        "description": "Validation failure",
                        "schema": {
                            "$ref": "#/definitions/QuoteRequestResponseWithErrors"
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "QuoteRequestRoot": {
            "type": "object",
            "properties": {
                "quote_request": {
                    "$ref": "#/definitions/QuoteRequest"
                }
            }
        },
        "QuoteRequest": {
            "type": "object",
            "properties": {
                "first_name": {
                    "type": "string",
                    "description": "First name of insured, 20 characters max"
                },
                "last_name": {
                    "type": "string",
                    "description": "Last name of insured, 20 characters max"
                },
                "date_of_birth": {
                    "type": "string",
                    "description": "DOB of insured in YYYY-MM-DD format. Year must be greater than 1900 and\ninsured at least 18 years of age\n"
                },
                "email": {
                    "type": "string",
                    "description": "Primary email of insured"
                }
            }
        },
        "QuoteRequestResponse": {
            "type": "object",
            "properties": {
                "quote_request": {
                    "type": "object",
                    "properties": {
                        "id": {
                            "type": "integer"
                        }
                    }
                }
            }
        },
        "QuoteRequestResponseWithErrors": {
            "type": "object",
            "properties": {
                "quote_request": {
                    "type": "object",
                    "properties": {
                        "errors": {
                            "type": "object",
                            "properties": {
                                "field_name": {
                                    "type": "array",
                                    "items": {
                                        "type": "string"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}